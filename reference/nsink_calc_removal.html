<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculates N-Sink nitrogen removal percent — nsink_calc_removal • nsink</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculates N-Sink nitrogen removal percent — nsink_calc_removal"><meta name="description" content="Starting with base data layers of NHDPlus, SSURGO, impervious surface, flow
velocity, and time of travel, this function calculates percentage of Nitrogen
removal.  Nitrogen removal methods and calculations are from
Kellogg et al. (2010).
This function assumes data has been downloaded with
nsink_get_data and has been prepared with
nsink_prep_data."><meta property="og:description" content="Starting with base data layers of NHDPlus, SSURGO, impervious surface, flow
velocity, and time of travel, this function calculates percentage of Nitrogen
removal.  Nitrogen removal methods and calculations are from
Kellogg et al. (2010).
This function assumes data has been downloaded with
nsink_get_data and has been prepared with
nsink_prep_data."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">nsink</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/intro.html">Introduction to `nsink`</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/USEPA/nsink/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Calculates N-Sink nitrogen removal percent</h1>
      <small class="dont-index">Source: <a href="https://github.com/USEPA/nsink/blob/main/R/nsink_calc_removal.R" class="external-link"><code>R/nsink_calc_removal.R</code></a></small>
      <div class="d-none name"><code>nsink_calc_removal.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Starting with base data layers of NHDPlus, SSURGO, impervious surface, flow
velocity, and time of travel, this function calculates percentage of Nitrogen
removal.  Nitrogen removal methods and calculations are from
<a href="https://doi.org/10.1016/j.ecoleng.2010.02.006" class="external-link">Kellogg et al. (2010)</a>.
This function assumes data has been downloaded with
<code><a href="nsink_get_data.html">nsink_get_data</a></code> and has been prepared with
<code><a href="nsink_prep_data.html">nsink_prep_data</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">nsink_calc_removal</span><span class="op">(</span></span>
<span>  <span class="va">input_data</span>,</span>
<span>  off_network_lakes <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  off_network_streams <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  off_network_canalsditches <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  off_network_out <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-input-data">input_data<a class="anchor" aria-label="anchor" href="#arg-input-data"></a></dt>
<dd><p>A list of input datasets created with
<code><a href="nsink_prep_data.html">nsink_prep_data</a></code>.</p></dd>


<dt id="arg-off-network-lakes">off_network_lakes<a class="anchor" aria-label="anchor" href="#arg-off-network-lakes"></a></dt>
<dd><p>Optional argument to set removal for waterbodies
that are not part of the NHDPlus hydrologic network. Default value is to
use the 75th percentile of removal from other lakes in the HUC.  If another
value is desired provide a single numeric ranging from 0 to 1.</p></dd>


<dt id="arg-off-network-streams">off_network_streams<a class="anchor" aria-label="anchor" href="#arg-off-network-streams"></a></dt>
<dd><p>Optional argument to set removal for streams that
are not part of the NHDPlus hydrologic network. Default value is to use
the median removal from first order streams in the HUC.  If another value
is desired provide a single numeric ranging from 0 to 1.</p></dd>


<dt id="arg-off-network-canalsditches">off_network_canalsditches<a class="anchor" aria-label="anchor" href="#arg-off-network-canalsditches"></a></dt>
<dd><p>Optional argument to set removal for canals
and ditches that are not part of the NHDPlus hydrologic network. Default
value is to use the 25th percentile of removal from third order streams in
the HUC. If another value is desired provide a single numeric ranging from
0 to 1.</p></dd>


<dt id="arg-off-network-out">off_network_out<a class="anchor" aria-label="anchor" href="#arg-off-network-out"></a></dt>
<dd><p>Optional argument to have the off network features
returned on the output list.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list with three items, 1) a raster stack with one layer with
        the nitrogen removal, a second layer with the type of removal (e.g.
        hydric soils, lakes, streams), 2) a polygon representing removal from
        land, and 3) a polygon representing removal from the stream network,
        including stream removal, and lake removal. Optionally, the off network
        waterbodies may be returned if off_network_out == TRUE.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Kellogg, D. Q., Gold, A. J., Cox, S., Addy, K., &amp; August, P. V.
            (2010). A geospatial approach for assessing denitrification sinks
            within lower-order catchments. Ecological Engineering, 36(11),
            1596-1606.
            <a href="https://doi.org/10.1016/j.ecoleng.2010.02.006" class="external-link">Link</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://jhollist.github.io/nsink/" class="external-link">nsink</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">niantic_huc</span> <span class="op">&lt;-</span> <span class="fu"><a href="nsink_get_huc_id.html">nsink_get_huc_id</a></span><span class="op">(</span><span class="st">"Niantic River"</span><span class="op">)</span><span class="op">$</span><span class="va">huc_12</span></span></span>
<span class="r-in"><span><span class="va">niantic_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="nsink_get_data.html">nsink_get_data</a></span><span class="op">(</span><span class="va">niantic_huc</span>, data_dir <span class="op">=</span> <span class="st">"nsink_data"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">aea</span> <span class="op">&lt;-</span> <span class="fl">5072</span></span></span>
<span class="r-in"><span><span class="va">niantic_nsink_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="nsink_prep_data.html">nsink_prep_data</a></span><span class="op">(</span><span class="va">niantic_huc</span>, projection <span class="op">=</span> <span class="va">aea</span> ,</span></span>
<span class="r-in"><span>                                      data_dir <span class="op">=</span> <span class="st">"nsink_data"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">removal</span> <span class="op">&lt;-</span> <span class="fu">nsink_calc_removal</span><span class="op">(</span><span class="va">niantic_nsink_data</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jeffrey Hollister, Dorothy Kellogg, Qian Lei-Parent, Kenneth Forshay.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

