<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Build out required datasets for N-Sink — nsink_build • nsink</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Build out required datasets for N-Sink — nsink_build"><meta name="description" content="This function is a wrapper around the other functions and runs all of those
required to build out the full dataset needed for a huc and develops the four
static N-Sink maps: the nitrogen loading index, nitrogen removal effeciency,
nitrogen transport index, and the nitrogen delivery index.  The primary
purpose of this is to use the nsink package to develop the required datasets
for an nsink application to be built outside of R (e.g. ArcGIS).  This will
take some time to complete as it is downloading 500-600 Mb of data,
processing that data and then creating output files."><meta property="og:description" content="This function is a wrapper around the other functions and runs all of those
required to build out the full dataset needed for a huc and develops the four
static N-Sink maps: the nitrogen loading index, nitrogen removal effeciency,
nitrogen transport index, and the nitrogen delivery index.  The primary
purpose of this is to use the nsink package to develop the required datasets
for an nsink application to be built outside of R (e.g. ArcGIS).  This will
take some time to complete as it is downloading 500-600 Mb of data,
processing that data and then creating output files."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">nsink</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/intro.html">Introduction to `nsink`</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/USEPA/nsink/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Build out required datasets for N-Sink</h1>
      <small class="dont-index">Source: <a href="https://github.com/USEPA/nsink/blob/main/R/nsink_build.R" class="external-link"><code>R/nsink_build.R</code></a></small>
      <div class="d-none name"><code>nsink_build.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function is a wrapper around the other functions and runs all of those
required to build out the full dataset needed for a huc and develops the four
static N-Sink maps: the nitrogen loading index, nitrogen removal effeciency,
nitrogen transport index, and the nitrogen delivery index.  The primary
purpose of this is to use the nsink package to develop the required datasets
for an nsink application to be built outside of R (e.g. ArcGIS).  This will
take some time to complete as it is downloading 500-600 Mb of data,
processing that data and then creating output files.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">nsink_build</span><span class="op">(</span></span>
<span>  <span class="va">huc</span>,</span>
<span>  <span class="va">projection</span>,</span>
<span>  output_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/normalizePath.html" class="external-link">normalizePath</a></span><span class="op">(</span><span class="st">"nsink_output"</span>, winslash <span class="op">=</span> <span class="st">"/"</span>, mustWork <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  data_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/normalizePath.html" class="external-link">normalizePath</a></span><span class="op">(</span><span class="st">"nsink_data"</span>, winslash <span class="op">=</span> <span class="st">"/"</span>, mustWork <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  force <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  samp_dens <span class="op">=</span> <span class="fl">300</span>,</span>
<span>  year <span class="op">=</span> <span class="st">"2016"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-huc">huc<a class="anchor" aria-label="anchor" href="#arg-huc"></a></dt>
<dd><p>A character with the 12 digit HUC ID.  May be searched with
<code><a href="nsink_get_huc_id.html">nsink_get_huc_id</a></code></p></dd>


<dt id="arg-projection">projection<a class="anchor" aria-label="anchor" href="#arg-projection"></a></dt>
<dd><p>Projection to use for all spatial data, specified as either an
EPSG code (as numeric) or WKT (as string).</p></dd>


<dt id="arg-output-dir">output_dir<a class="anchor" aria-label="anchor" href="#arg-output-dir"></a></dt>
<dd><p>Folder to write processed nsink files to.
Currently, the processed files will be overwritten if
the same output folder is used.  To run different
HUC12's specify separate output folders.</p></dd>


<dt id="arg-data-dir">data_dir<a class="anchor" aria-label="anchor" href="#arg-data-dir"></a></dt>
<dd><p>Folder to hold downloaded data.  The same data
directory can be used to hold data for multiple HUCs.  Data
will not be downloaded again if it already exists in this
folder.</p></dd>


<dt id="arg-force">force<a class="anchor" aria-label="anchor" href="#arg-force"></a></dt>
<dd><p>Logical value used to force a new download if data already
exists on file system.</p></dd>


<dt id="arg-samp-dens">samp_dens<a class="anchor" aria-label="anchor" href="#arg-samp-dens"></a></dt>
<dd><p>The <code>samp_dens</code> controls the density of points to use when
creating the nitrogen removal heat map.  The area of the
watershed is sampled with points that are separated by the
<code>samp_dens</code> value, in the units of the input data.
The larger the value, the fewer the points.</p></dd>


<dt id="arg-year">year<a class="anchor" aria-label="anchor" href="#arg-year"></a></dt>
<dd><p>Year argument to be passed to FedData's <code>get_nlcd</code>
function. Defaults to 2016.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Passes to <code><a href="nsink_calc_removal.html">nsink_calc_removal</a></code> for the off network
arguments: <code>off_network_lakes</code>, <code>off_network_streams</code>,
and <code>off_network_canalsditches</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list providing details on the huc used and the output location of
        the dataset.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://jhollist.github.io/nsink/" class="external-link">nsink</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">aea</span> <span class="op">&lt;-</span> <span class="fl">5072</span></span></span>
<span class="r-in"><span><span class="fu">nsink_build</span><span class="op">(</span><span class="fu"><a href="nsink_get_huc_id.html">nsink_get_huc_id</a></span><span class="op">(</span><span class="st">"Niantic River"</span><span class="op">)</span><span class="op">$</span><span class="va">huc_12</span>, <span class="va">aea</span>,</span></span>
<span class="r-in"><span>            output_dir <span class="op">=</span> <span class="st">"nsink_output"</span>, data_dir <span class="op">=</span> <span class="st">"nsink_data"</span>,</span></span>
<span class="r-in"><span>             samp_dens <span class="op">=</span> <span class="fl">600</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jeffrey Hollister, Dorothy Kellogg, Qian Lei-Parent, Kenneth Forshay.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

